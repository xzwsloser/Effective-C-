# 尽可能延后变量定义式出现的事件
- 这一条规则用于避免变量被定义但是没有被使用的情况,不要以为变量声明之后就需要马上定义,如果声明之后马上定义的话在没有使用变量的情况下就会导致多余消耗构造和析构函数的资源
1. 比如如下代码中:
```cpp
string get_password_rsa(string& password)
{
    string res;
    if(password.size() <= MIN_SIZE) 
    {
        throw logic_error("your password is too short !");
    }
    ...
    res = ras(password);
    return res;
}
```
- 此时如果中间抛出异常,那么就相当于`res`没有使用,消耗了构造和析构的资源
2. 第二种情况讨论变量的定义方式,考虑如下两种方式:
```cpp
// 第一种方式
string res;
res = password;

// 第二种方式
string res(password);
```
- 第一种方式首先进行默认构造函数初始化,之后进行赋值运算符号赋值,但是第二种方式中直接利用拷贝构造函数进行复制明显更加高效
3. 考虑第三种情况:
```cpp
// 1. 定义在循环外的变量
Widget w;
for(int i = 0 ; i < n ; i ++)
{
    w = ...
}

// 2. 定义在循环之中
for(int  i = 0 ; i < n ; i ++)
{
    Widget w = ...;
}
```
- 两种写法的成本:
  - 方式`1`: `1`次构造 + `1`次析构 + `n`个赋值操作
  - 方式`2`: `n`次构造 + `n`次析构
- 由于如果使用第一种方式,变量影响的范围更大,这显然不是我们希望看到的,所除非发生如下两件事,否则选择方案二:
  - 你知道赋值成本比 "构造 + 析构"成本低
  - 你正在处理代码中效率高度敏感的部分
- 总结:
  - 尽可能延后变量定义的出现,这样做可增加程序的清晰程度并且改变程序质量 